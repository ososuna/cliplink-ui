import{j as r}from"./utils.ag4OtbVb.js";import{r as c}from"./index.CWXBSLiN.js";import{z as i,u as d,F as p,a as f,b as u,e as x,c as h,d as j,t as g}from"./form.JoO0pxNJ.js";import{U as F,a as S}from"./url.view-service.impl.B5UazGs6.js";import"./ui.store.V0UIaDrX.js";import{u as U}from"./use-service.OG-UkMvg.js";import{B as L}from"./button.DlpEXsww.js";import{e as b,d as v}from"./card.CfIqYNeu.js";import{I}from"./input.BC8Asylz.js";import{L as C}from"./loader-circle.CvAbasbM.js";import"./index.Cxtmh_mJ.js";import"./index.bO9abPB-.js";import"./index.CrMHok4L.js";import"./createLucideIcon.CQccyi0-.js";const w=i.object({originalUrl:i.string().url()}),H=()=>{const[a,s]=c.useState(!1),l=U(S,F),o=d({resolver:g(w),defaultValues:{originalUrl:""}}),n=async e=>{const{originalUrl:m}=e;s(!0);const t=await l?.createUrl(m);s(!1),t&&(window.location.href=`/short/${t.shortId}`)};return r.jsx(r.Fragment,{children:r.jsx(p,{...o,children:r.jsxs("form",{onSubmit:o.handleSubmit(n),children:[r.jsx(b,{children:r.jsx("div",{className:"grid w-full items-center gap-4",children:r.jsx("div",{className:"flex flex-col",children:r.jsx(f,{control:o.control,name:"originalUrl",render:({field:e})=>r.jsxs(u,{children:[r.jsx(x,{children:"Long URL"}),r.jsx(h,{children:r.jsx(I,{autoComplete:"off",placeholder:"https://example/long/url",...e})}),r.jsx(j,{})]})})})})}),r.jsx(v,{children:r.jsx(L,{type:"submit",children:a?r.jsxs(r.Fragment,{children:[r.jsx(C,{className:"animate-spin"})," Shortening..."]}):"Shorten URL"})})]})})})};export{H as default};
