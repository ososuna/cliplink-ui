import{j as n,c as I}from"./utils.ag4OtbVb.js";import{r as s}from"./index.CWXBSLiN.js";import{u as Fe}from"./ui.store.V0UIaDrX.js";import{u as re}from"./use-toast.D-BVXOBP.js";import{u as se,P as j,r as De,d as _e}from"./index.Cxtmh_mJ.js";import{c as Le,B as Me,u as Oe,P as ke,e as H,a as b,R as Ve,b as Ke,f as $e}from"./index.DaBOQRUy.js";import{c as He}from"./index.BHusMZVD.js";import{V as ne}from"./index.Mk6t-_Xc.js";import{c as We}from"./index.CrMHok4L.js";import{X as Xe}from"./x.BPQqOk2p.js";import"./index.bO9abPB-.js";import"./createLucideIcon.CQccyi0-.js";function Ue(e,t,r){let o=new Set([...t,void 0]);return e.listen((i,d,l)=>{o.has(l)&&r(i,d,l)})}let Y=(e,t)=>r=>{e.current!==r&&(e.current=r,t())};function Ye(e,{keys:t,deps:r=[e,t]}={}){let o=s.useRef();o.current=e.get();let i=s.useCallback(l=>(Y(o,l)(e.value),t?.length>0?Ue(e,t,Y(o,l)):e.listen(Y(o,l))),r),d=()=>o.current;return s.useSyncExternalStore(i,d,d)}var J="ToastProvider",[Q,Be,qe]=He("Toast"),[ae,Nt]=Le("Toast",[qe]),[ze,W]=ae(J),ie=e=>{const{__scopeToast:t,label:r="Notification",duration:o=5e3,swipeDirection:i="right",swipeThreshold:d=50,children:l}=e,[v,w]=s.useState(null),[u,h]=s.useState(0),T=s.useRef(!1),A=s.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${J}\`. Expected non-empty \`string\`.`),n.jsx(Q.Provider,{scope:t,children:n.jsx(ze,{scope:t,label:r,duration:o,swipeDirection:i,swipeThreshold:d,toastCount:u,viewport:v,onViewportChange:w,onToastAdd:s.useCallback(()=>h(C=>C+1),[]),onToastRemove:s.useCallback(()=>h(C=>C-1),[]),isFocusedToastEscapeKeyDownRef:T,isClosePausedRef:A,children:l})})};ie.displayName=J;var ce="ToastViewport",Ge=["F8"],q="toast.viewportPause",z="toast.viewportResume",ue=s.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:o=Ge,label:i="Notifications ({hotkey})",...d}=e,l=W(ce,r),v=Be(r),w=s.useRef(null),u=s.useRef(null),h=s.useRef(null),T=s.useRef(null),A=se(t,T,l.onViewportChange),C=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=l.toastCount>0;s.useEffect(()=>{const c=E=>{o.length!==0&&o.every(m=>E[m]||E.code===m)&&T.current?.focus()};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[o]),s.useEffect(()=>{const c=w.current,E=T.current;if(N&&c&&E){const f=()=>{if(!l.isClosePausedRef.current){const x=new CustomEvent(q);E.dispatchEvent(x),l.isClosePausedRef.current=!0}},m=()=>{if(l.isClosePausedRef.current){const x=new CustomEvent(z);E.dispatchEvent(x),l.isClosePausedRef.current=!1}},y=x=>{!c.contains(x.relatedTarget)&&m()},g=()=>{c.contains(document.activeElement)||m()};return c.addEventListener("focusin",f),c.addEventListener("focusout",y),c.addEventListener("pointermove",f),c.addEventListener("pointerleave",g),window.addEventListener("blur",f),window.addEventListener("focus",m),()=>{c.removeEventListener("focusin",f),c.removeEventListener("focusout",y),c.removeEventListener("pointermove",f),c.removeEventListener("pointerleave",g),window.removeEventListener("blur",f),window.removeEventListener("focus",m)}}},[N,l.isClosePausedRef]);const p=s.useCallback(({tabbingDirection:c})=>{const f=v().map(m=>{const y=m.ref.current,g=[y,...ut(y)];return c==="forwards"?g:g.reverse()});return(c==="forwards"?f.reverse():f).flat()},[v]);return s.useEffect(()=>{const c=T.current;if(c){const E=f=>{const m=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!m){const g=document.activeElement,x=f.shiftKey;if(f.target===c&&x){u.current?.focus();return}const D=p({tabbingDirection:x?"backwards":"forwards"}),O=D.findIndex(S=>S===g);B(D.slice(O+1))?f.preventDefault():x?u.current?.focus():h.current?.focus()}};return c.addEventListener("keydown",E),()=>c.removeEventListener("keydown",E)}},[v,p]),n.jsxs(Me,{ref:w,role:"region","aria-label":i.replace("{hotkey}",C),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&n.jsx(G,{ref:u,onFocusFromOutsideViewport:()=>{const c=p({tabbingDirection:"forwards"});B(c)}}),n.jsx(Q.Slot,{scope:r,children:n.jsx(j.ol,{tabIndex:-1,...d,ref:A})}),N&&n.jsx(G,{ref:h,onFocusFromOutsideViewport:()=>{const c=p({tabbingDirection:"backwards"});B(c)}})]})});ue.displayName=ce;var de="ToastFocusProxy",G=s.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:o,...i}=e,d=W(de,r);return n.jsx(ne,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{const v=l.relatedTarget;!d.viewport?.contains(v)&&o()}})});G.displayName=de;var X="Toast",Je="toast.swipeStart",Qe="toast.swipeMove",Ze="toast.swipeCancel",et="toast.swipeEnd",le=s.forwardRef((e,t)=>{const{forceMount:r,open:o,defaultOpen:i,onOpenChange:d,...l}=e,[v=!0,w]=Oe({prop:o,defaultProp:i,onChange:d});return n.jsx(ke,{present:r||v,children:n.jsx(rt,{open:v,...l,ref:t,onClose:()=>w(!1),onPause:H(e.onPause),onResume:H(e.onResume),onSwipeStart:b(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:b(e.onSwipeMove,u=>{const{x:h,y:T}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${T}px`)}),onSwipeCancel:b(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:b(e.onSwipeEnd,u=>{const{x:h,y:T}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${T}px`),w(!1)})})})});le.displayName=X;var[tt,ot]=ae(X,{onClose(){}}),rt=s.forwardRef((e,t)=>{const{__scopeToast:r,type:o="foreground",duration:i,open:d,onClose:l,onEscapeKeyDown:v,onPause:w,onResume:u,onSwipeStart:h,onSwipeMove:T,onSwipeCancel:A,onSwipeEnd:C,...N}=e,p=W(X,r),[c,E]=s.useState(null),f=se(t,a=>E(a)),m=s.useRef(null),y=s.useRef(null),g=i||p.duration,x=s.useRef(0),F=s.useRef(g),M=s.useRef(0),{onToastAdd:D,onToastRemove:O}=p,S=H(()=>{c?.contains(document.activeElement)&&p.viewport?.focus(),l()}),k=s.useCallback(a=>{!a||a===1/0||(window.clearTimeout(M.current),x.current=new Date().getTime(),M.current=window.setTimeout(S,a))},[S]);s.useEffect(()=>{const a=p.viewport;if(a){const P=()=>{k(F.current),u?.()},R=()=>{const _=new Date().getTime()-x.current;F.current=F.current-_,window.clearTimeout(M.current),w?.()};return a.addEventListener(q,R),a.addEventListener(z,P),()=>{a.removeEventListener(q,R),a.removeEventListener(z,P)}}},[p.viewport,g,w,u,k]),s.useEffect(()=>{d&&!p.isClosePausedRef.current&&k(g)},[d,g,p.isClosePausedRef,k]),s.useEffect(()=>(D(),()=>O()),[D,O]);const ee=s.useMemo(()=>c?Te(c):null,[c]);return p.viewport?n.jsxs(n.Fragment,{children:[ee&&n.jsx(st,{__scopeToast:r,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0,children:ee}),n.jsx(tt,{scope:r,onClose:S,children:De.createPortal(n.jsx(Q.ItemSlot,{scope:r,children:n.jsx(Ve,{asChild:!0,onEscapeKeyDown:b(v,()=>{p.isFocusedToastEscapeKeyDownRef.current||S(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(j.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":p.swipeDirection,...N,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:b(e.onKeyDown,a=>{a.key==="Escape"&&(v?.(a.nativeEvent),a.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,S()))}),onPointerDown:b(e.onPointerDown,a=>{a.button===0&&(m.current={x:a.clientX,y:a.clientY})}),onPointerMove:b(e.onPointerMove,a=>{if(!m.current)return;const P=a.clientX-m.current.x,R=a.clientY-m.current.y,_=!!y.current,L=["left","right"].includes(p.swipeDirection),V=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,je=L?V(0,P):0,Ae=L?0:V(0,R),U=a.pointerType==="touch"?10:2,K={x:je,y:Ae},te={originalEvent:a,delta:K};_?(y.current=K,$(Qe,T,te,{discrete:!1})):oe(K,p.swipeDirection,U)?(y.current=K,$(Je,h,te,{discrete:!1}),a.target.setPointerCapture(a.pointerId)):(Math.abs(P)>U||Math.abs(R)>U)&&(m.current=null)}),onPointerUp:b(e.onPointerUp,a=>{const P=y.current,R=a.target;if(R.hasPointerCapture(a.pointerId)&&R.releasePointerCapture(a.pointerId),y.current=null,m.current=null,P){const _=a.currentTarget,L={originalEvent:a,delta:P};oe(P,p.swipeDirection,p.swipeThreshold)?$(et,C,L,{discrete:!0}):$(Ze,A,L,{discrete:!0}),_.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),st=e=>{const{__scopeToast:t,children:r,...o}=e,i=W(X,t),[d,l]=s.useState(!1),[v,w]=s.useState(!1);return it(()=>l(!0)),s.useEffect(()=>{const u=window.setTimeout(()=>w(!0),1e3);return()=>window.clearTimeout(u)},[]),v?null:n.jsx(Ke,{asChild:!0,children:n.jsx(ne,{...o,children:d&&n.jsxs(n.Fragment,{children:[i.label," ",r]})})})},nt="ToastTitle",pe=s.forwardRef((e,t)=>{const{__scopeToast:r,...o}=e;return n.jsx(j.div,{...o,ref:t})});pe.displayName=nt;var at="ToastDescription",fe=s.forwardRef((e,t)=>{const{__scopeToast:r,...o}=e;return n.jsx(j.div,{...o,ref:t})});fe.displayName=at;var me="ToastAction",ve=s.forwardRef((e,t)=>{const{altText:r,...o}=e;return r.trim()?n.jsx(xe,{altText:r,asChild:!0,children:n.jsx(Z,{...o,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${me}\`. Expected non-empty \`string\`.`),null)});ve.displayName=me;var we="ToastClose",Z=s.forwardRef((e,t)=>{const{__scopeToast:r,...o}=e,i=ot(we,r);return n.jsx(xe,{asChild:!0,children:n.jsx(j.button,{type:"button",...o,ref:t,onClick:b(e.onClick,i.onClose)})})});Z.displayName=we;var xe=s.forwardRef((e,t)=>{const{__scopeToast:r,altText:o,...i}=e;return n.jsx(j.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...i,ref:t})});function Te(e){const t=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&t.push(o.textContent),ct(o)){const i=o.ariaHidden||o.hidden||o.style.display==="none",d=o.dataset.radixToastAnnounceExclude==="";if(!i)if(d){const l=o.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...Te(o))}}),t}function $(e,t,r,{discrete:o}){const i=r.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),o?_e(i,d):i.dispatchEvent(d)}var oe=(e,t,r=0)=>{const o=Math.abs(e.x),i=Math.abs(e.y),d=o>i;return t==="left"||t==="right"?d&&o>r:!d&&i>r};function it(e=()=>{}){const t=H(e);$e(()=>{let r=0,o=0;return r=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(o)}},[t])}function ct(e){return e.nodeType===e.ELEMENT_NODE}function ut(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function B(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var dt=ie,Ee=ue,ye=le,ge=pe,he=fe,be=ve,Pe=Z;const lt=dt,Re=s.forwardRef(({className:e,...t},r)=>n.jsx(Ee,{ref:r,className:I("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Re.displayName=Ee.displayName;const pt=We("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ce=s.forwardRef(({className:e,variant:t,...r},o)=>n.jsx(ye,{ref:o,className:I(pt({variant:t}),e),...r}));Ce.displayName=ye.displayName;const ft=s.forwardRef(({className:e,...t},r)=>n.jsx(be,{ref:r,className:I("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));ft.displayName=be.displayName;const Ne=s.forwardRef(({className:e,...t},r)=>n.jsx(Pe,{ref:r,className:I("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(Xe,{className:"h-4 w-4"})}));Ne.displayName=Pe.displayName;const Se=s.forwardRef(({className:e,...t},r)=>n.jsx(ge,{ref:r,className:I("text-sm font-semibold [&+div]:text-xs",e),...t}));Se.displayName=ge.displayName;const Ie=s.forwardRef(({className:e,...t},r)=>n.jsx(he,{ref:r,className:I("text-sm opacity-90",e),...t}));Ie.displayName=he.displayName;function mt(){const{toasts:e}=re();return n.jsxs(lt,{children:[e.map(function({id:t,title:r,description:o,action:i,...d}){return n.jsxs(Ce,{...d,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(Se,{children:r}),o&&n.jsx(Ie,{children:o})]}),i,n.jsx(Ne,{})]},t)}),n.jsx(Re,{})]})}const St=()=>{const{toast:e}=re(),t=Ye(Fe);return s.useEffect(()=>{const{type:r,message:o}=t;r&&o&&e({variant:"destructive",title:"Something went wrong",description:o})},[t]),n.jsx(mt,{})};export{St as default};
