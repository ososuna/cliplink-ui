import{j as s}from"./utils.ag4OtbVb.js";import{z as m,u as p,F as u,a as d,b as f,c as x,d as h,t as j}from"./form.JoO0pxNJ.js";import{r as e}from"./index.CWXBSLiN.js";import{A as w,a as g}from"./auth.view-service.impl.BxHa1p8t.js";import"./ui.store.V0UIaDrX.js";import{B as F}from"./button.DlpEXsww.js";import{I as S}from"./input.BC8Asylz.js";import{u as L}from"./use-service.OG-UkMvg.js";import{L as b}from"./loader-circle.CvAbasbM.js";import"./index.Cxtmh_mJ.js";import"./index.bO9abPB-.js";import"./index.CrMHok4L.js";import"./createLucideIcon.CQccyi0-.js";const I=m.object({password:m.string()}),U=()=>{const[i,t]=e.useState(!1),a=e.useRef(""),n=L(g,w);e.useEffect(()=>{const o=new URLSearchParams(window.location.search);a.current=o.get("email")},[]);const r=p({resolver:j(I),defaultValues:{password:""}}),c=async o=>{const{password:l}=o;t(!0),n?.loginByEmail(a.current,l),t(!1)};return s.jsx(u,{...r,children:s.jsxs("form",{onSubmit:r.handleSubmit(c),children:[s.jsx(d,{control:r.control,name:"password",render:({field:o})=>s.jsxs(f,{children:[s.jsx(x,{children:s.jsx(S,{type:"password",autoComplete:"off",...o})}),s.jsx(h,{})]})}),s.jsx(F,{className:"w-full mt-2",type:"submit",children:i?s.jsxs(s.Fragment,{children:[s.jsx(b,{className:"animate-spin"})," Loading..."]}):"Log in"})]})})};export{U as default};
